
SET CURRENT ISOLATION LEVEL UR;
COMMIT;
SELECT FIRSTNME,LASTNAME,SALARY FROM EMPLOYEE WHERE EMPNO ='000020';


UPDATE EMPLOYEE SET SALARY = 50000 WHERE EMPNO = '000020';
SELECT FIRSTNME,LASTNAME,SALARY FROM EMPLOYEE WHERE EMPNO ='000020';
UPDATE EMPLOYEE SET SALARY = 40000 WHERE EMPNO = '000020';
rollback;

-- Example 1.1
SET CURRENT ISOLATION LEVEL UR;
commit;
UPDATE EMPLOYEE SET SALARY = 60000 WHERE EMPNO = '000030';
commit;
SELECT FIRSTNME,LASTNAME,SALARY FROM EMPLOYEE WHERE EMPNO IN ('000020','000030');

-- Example 2
-- Dirty Read
SET CURRENT ISOLATION LEVEL CS;
SELECT FIRSTNME,LASTNAME,SALARY FROM EMPLOYEE WHERE EMPNO IN ('000020','000030');

-- Example 3
SET CURRENT ISOLATION LEVEL RS;
SELECT FIRSTNME,LASTNAME,SALARY FROM EMPLOYEE WHERE EMPNO IN ('000020','000030');
UPDATE EMPLOYEE SET SALARY = 40000 WHERE EMPNO = '000020'
COMMIT;
UPDATE EMPLOYEE SET SALARY = 30000 WHERE EMPNO = '000030'
UPDATE EMPLOYEE SET SALARY = 50000 WHERE EMPNO = '000050'
rollback;

-- Example 4
SET CURRENT ISOLATION LEVEL RR;
COMMIT;
INSERT INTO EMPLOYEE(EMPNO,FIRSTNME,LASTNAME,EDLEVEL,SALARY) VALUES ('000011','Kaewket','Opal',3,20000)
INSERT INTO EMPLOYEE(EMPNO,FIRSTNME,LASTNAME,EDLEVEL,SALARY) VALUES ('000012','Kaewket','Opal',3,50000)
UPDATE EMPLOYEE SET FIRSTNME = 'Somsri' WHERE EMPNO = '000050'

DELETE FROM EMPLOYEE WHERE EMPNO = '000050';

